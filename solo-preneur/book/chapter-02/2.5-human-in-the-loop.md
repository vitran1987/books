## 2.5 Con Người Trong Vòng Lặp: Kiểm Soát Chất Lượng và Quyết Định Cuối Cùng

Thảm họa xảy ra vào lúc ba giờ sáng Chủ nhật tháng 10 năm 2024, khi hệ thống giao dịch tự động của một sàn tiền điện tử có tên DeepVault quyết định thanh lý hơn hai triệu đô la tài sản của người dùng dựa trên tín hiệu sai từ mô hình AI dự đoán giá. Tác nhân AI đã được lập trình để tự động thực hiện giao dịch khi phát hiện các mô hình thị trường nhất định, và vào đêm định mệnh đó, một lỗi trong nguồn dữ liệu đã khiến mô hình tin rằng Bitcoin sắp sụp đổ từ 65,000 đô la xuống 30,000 đô la. Trong vòng mười lăm phút, hệ thống đã tự động bán tháo hàng nghìn Bitcoin của khách hàng với giá thị trường để "bảo vệ" họ khỏi tổn thất. Khi thị trường mở cửa vào sáng thứ Hai và giá Bitcoin vẫn ổn định ở mức 64,800 đô la, DeepVault phải đối mặt với hơn năm nghìn khiếu nại từ khách hàng đã bị bán tháo tài sản một cách sai lầm, dẫn đến tổn thất thực tế hàng triệu đô la khi họ phải mua lại Bitcoin với giá cao hơn. Công ty cuối cùng phải đền bù 3.2 triệu đô la và mất hơn 40% khách hàng trong vòng hai tháng. Vấn đề cốt lõi? Không có con người nào trong vòng lặp để phê duyệt quyết định tài chính quan trọng như vậy trước khi thực hiện.

Câu chuyện DeepVault minh họa một nguyên tắc căn bản mà mọi người sáng lập triển khai tác nhân AI phải hiểu: AI mạnh mẽ và hiệu quả, nhưng không hoàn hảo và không nên được tin tưởng hoàn toàn với mọi quyết định. Ngay cả các mô hình ngôn ngữ lớn tiên tiến nhất như GPT-5.1 với điểm AIME 95% vẫn có thể mắc lỗi, đưa ra kết luận sai, hoặc hiểu nhầm ngữ cảnh. Đây là lý do tại sao khái niệm "Con người trong Vòng lặp" - hay Human-in-the-Loop viết tắt là HITL - là vô cùng quan trọng. HITL không có nghĩa là con người phải kiểm tra mọi hành động của tác nhân AI, điều đó sẽ xóa bỏ lợi ích về hiệu quả mà AI mang lại. Thay vào đó, nó có nghĩa là thiết lập các điểm kiểm soát chiến lược nơi sự phán đoán, trách nhiệm, và chuyên môn của con người là cần thiết để đảm bảo chất lượng và tránh rủi ro.

Để triển khai HITL hiệu quả, bạn cần một khung phân cấp phê duyệt ba tầng dựa trên mức độ rủi ro và khả năng đảo ngược của quyết định. Tầng đầu tiên là Tự động Phê duyệt, áp dụng cho các công việc có rủi ro thấp, dễ dàng đảo ngược, và tác động hạn chế. Đây là những nhiệm vụ mà tác nhân AI có thể hoàn thành hoàn toàn tự động mà không cần con người xem xét. Ví dụ điển hình bao gồm tạo nội dung draft cho blog hoặc mạng xã hội mà sau này có thể chỉnh sửa trước khi xuất bản, chạy các báo cáo phân tích dữ liệu định kỳ về lượng truy cập website hoặc hành vi người dùng, thực hiện các bài kiểm thử tự động trên mã nguồn trong môi trường development không ảnh hưởng đến người dùng thực, gửi các cảnh báo giám sát hệ thống khi phát hiện bất thường trong hiệu suất máy chủ hoặc tỷ lệ lỗi tăng cao, hoặc tạo các tài liệu kỹ thuật nội bộ cho đội ngũ phát triển. Tiêu chí chung cho tự động phê duyệt là: nếu sai sót xảy ra, nó có thể được sửa chữa trong vòng vài phút đến vài giờ mà không gây thiệt hại tài chính hoặc danh tiếng đáng kể.

Tầng thứ hai là Yêu cầu Đánh giá, áp dụng cho công việc có rủi ro trung bình, có tác động đến khách hàng hoặc hệ thống production, nhưng vẫn trong phạm vi chuyên môn kỹ thuật. Con người phải xem xét kết quả trước khi nó được triển khai hoặc xuất bản, nhưng đánh giá tập trung vào chất lượng kỹ thuật hơn là quyết định chiến lược. Ví dụ bao gồm thay đổi mã nguồn sẽ được triển khai lên môi trường production và ảnh hưởng đến người dùng thực - tất cả Pull Request phải được con người đánh giá ngay cả khi đã vượt qua kiểm thử tự động, nội dung hướng tới khách hàng như bài đăng blog, email marketing, hoặc tài liệu sản phẩm cần được kiểm tra về chính xác thông tin và phù hợp với giọng điệu thương hiệu, các tài liệu pháp lý như điều khoản sử dụng hoặc chính sách bảo mật cần được luật sư xem xét trước khi công bố, giao dịch tài chính như thanh toán cho nhà cung cấp hoặc hoàn tiền cho khách hàng phải được xác nhận, và thay đổi cấu hình hệ thống như điều chỉnh tham số cơ sở dữ liệu hoặc scaling máy chủ cần được kỹ sư senior phê duyệt. Đối với loại công việc này, quá trình đánh giá thường mất từ mười lăm phút đến vài giờ và tập trung vào xác minh chất lượng kỹ thuật và sự phù hợp với tiêu chuẩn.

Tầng thứ ba là Yêu cầu Quyết định, áp dụng cho các tình huống có rủi ro cao, tác động dài hạn, hoặc liên quan đến quyết định chiến lược mà chỉ con người mới có thể đưa ra. Tác nhân AI có thể cung cấp phân tích và đề xuất, nhưng con người phải là người đưa ra quyết định cuối cùng. Các ví dụ bao gồm thay đổi kiến trúc hệ thống lớn như chuyển từ monolith sang microservices hoặc thay đổi cơ sở dữ liệu chính, quyết định phân bổ ngân sách marketing hay phát triển cho quý tiếp theo, định hướng sản phẩm chiến lược như quyết định tính năng chính tiếp theo hoặc thị trường mục tiêu mới, các quyết định nhân sự như thuê hoặc sa thải nhân viên nếu công ty đã có đội ngũ, đàm phán và ký kết hợp đồng quan trọng với đối tác hoặc khách hàng lớn, và các quyết định liên quan đến tuân thủ pháp lý hoặc đạo đức có thể ảnh hưởng đến danh tiếng công ty. Đối với những quyết định này, AI đóng vai trò như trợ lý cung cấp dữ liệu và insight, nhưng trách nhiệm và quyền quyết định cuối cùng thuộc về con người.

Hãy xem cách các tầng phê duyệt này hoạt động trong thực tế thông qua quy trình đánh giá mã nguồn - một trong những quy trình HITL quan trọng nhất đối với startup công nghệ. Bước đầu tiên xảy ra khi Tác nhân Phát triển hoàn thành một tính năng mới và tạo Pull Request trên GitHub. Ngay lập tức, một loạt kiểm thử tự động được kích hoạt thông qua GitHub Actions: kiểm thử đơn vị chạy để đảm bảo mọi hàm hoạt động đúng theo thiết kế, công cụ linting kiểm tra mã có tuân theo chuẩn coding của dự án hay không, máy quét bảo mật như Snyk hoặc Dependabot tìm kiếm lỗ hổng bảo mật đã biết trong mã hoặc các thư viện dependencies, và công cụ đo lường độ bao phủ kiểm thử xác minh rằng ít nhất 80% mã mới có kiểm thử coverage. Tất cả các kiểm tra này hoàn toàn tự động và không cần can thiệp của con người.

Nếu tất cả kiểm thử tự động vượt qua, bước tiếp theo là Tác nhân Đánh giá Mã nguồn - một tác nhân AI chuyên biệt khác - thực hiện đánh giá tự động sâu hơn. Tác nhân này kiểm tra logic nghiệp vụ có hợp lý hay không, tìm các lỗi tiềm ẩn mà kiểm thử tự động có thể bỏ sót như xử lý lỗi không đầy đủ, race conditions, hoặc memory leaks, xác minh hiệu suất mã có đáp ứng yêu cầu hay không bằng cách đánh giá độ phức tạp thuật toán và truy vấn cơ sở dữ liệu, và kiểm tra mã có tuân theo các best practices của ngôn ngữ và framework đang sử dụng. Tác nhân này tạo ra một báo cáo đánh giá chi tiết với điểm số tổng thể và danh sách các vấn đề cần khắc phục nếu có. Nếu điểm số dưới ngưỡng chấp nhận - ví dụ dưới 85 điểm trên thang 100 - Pull Request tự động được gửi lại cho Tác nhân Phát triển để sửa lại mà không cần con người can thiệp.

Chỉ khi Pull Request vượt qua cả kiểm thử tự động và đánh giá AI với điểm số cao, nó mới được gửi đến con người để đánh giá cuối cùng. Đây là điểm HITL quan trọng nhất. Con người không cần phải kiểm tra lại mọi chi tiết kỹ thuật mà các công cụ tự động đã xác minh - anh ta biết rằng mã đã vượt qua kiểm thử, không có lỗ hổng bảo mật, và có độ bao phủ tốt. Thay vào đó, con người tập trung vào những khía cạnh mà chỉ con người mới đánh giá tốt: logic nghiệp vụ có phù hợp với yêu cầu thực tế của khách hàng hay không, thay đổi này có tác động gì đến trải nghiệm người dùng tổng thể, có cân nhắc nào về khả năng mở rộng hoặc bảo trì dài hạn mà AI có thể bỏ qua, và liệu giải pháp kỹ thuật có phù hợp với chiến lược kiến trúc tổng thể của sản phẩm. Quá trình đánh giá của con người thường chỉ mất mười đến mười lăm phút vì phần lớn công việc kiểm tra đã được tự động hóa, nhưng những phút này là vô cùng có giá trị để đảm bảo chất lượng tổng thể.

Nếu con người phát hiện vấn đề hoặc muốn cải thiện, anh ta có thể để lại nhận xét cụ thể trên Pull Request. Điểm thú vị là Tác nhân Phát triển có thể đọc và hiểu các nhận xét này, sau đó tự động thực hiện các thay đổi được yêu cầu và cập nhật Pull Request. Chu trình này tiếp tục - tác nhân sửa, kiểm thử tự động chạy lại, tác nhân đánh giá mã kiểm tra lại, và con người xem xét phiên bản mới - cho đến khi con người hài lòng và phê duyệt Pull Request để merge vào nhánh chính. Sau khi merge, Tác nhân DevOps tự động triển khai mã mới lên môi trường staging trước, chạy kiểm thử tích hợp, và nếu mọi thứ hoạt động tốt, triển khai lên production. Cả quá trình này có thể hoàn thành từ lúc tác nhân tạo Pull Request đến khi tính năng mới xuất hiện trên production trong vòng vài giờ, với chỉ mười lăm phút can thiệp của con người - một tốc độ không thể đạt được với quy trình đánh giá mã toàn bộ thủ công truyền thống.

Đối với nội dung hướng tới khách hàng, quy trình HITL cũng quan trọng không kém nhưng tập trung vào các khía cạnh khác. Khi Tác nhân Nhà máy Nội dung tạo ra một bài đăng blog mới về phương pháp dạy con học toán hiệu quả cho nền tảng giáo dục TeachMe, bước đầu tiên là tác nhân tự kiểm tra bằng cách chạy nội dung qua một checklist tự động: độ dài có đạt mục tiêu 2000-3000 từ hay không, điểm SEO có trên 80 theo công cụ như Yoast hay không, độ dễ đọc phù hợp với đối tượng phụ huynh Việt Nam có trình độ học vấn trung bình hay không, các claim có được hỗ trợ bởi nghiên cứu hoặc thống kê đáng tin cậy hay không, và nội dung có tuân theo hướng dẫn giọng điệu thương hiệu đã được định nghĩa. Nếu bất kỳ tiêu chí nào không đạt, tác nhân tự động chỉnh sửa cho đến khi vượt qua ngưỡng chất lượng.

Sau khi vượt qua tự kiểm tra, bài viết được gửi đến kênh Slack riêng cho việc đánh giá nội dung, nơi người sáng lập nhận được thông báo. Người sáng lập đọc bài viết với góc nhìn của khách hàng mục tiêu, tự hỏi: liệu nội dung này có thực sự hữu ích cho phụ huynh đang tìm cách giúp con học tốt toán hay không, có thông tin nào sai sự thật hoặc gây hiểu lầm hay không, giọng điệu có đúng với cách thương hiệu TeachMe muốn giao tiếp với khách hàng, và liệu bài viết có khả năng viral hoặc ít nhất được chia sẻ trong cộng đồng phụ huynh. Nếu câu trả lời cho tất cả các câu hỏi này là có, người sáng lập phê duyệt bằng một emoji hoặc nhận xét ngắn "OK to publish", và Tác nhân Nội dung tự động xuất bản bài viết lên blog, lên lịch chia sẻ trên các kênh mạng xã hội, và gửi vào newsletter tuần tới. Nếu người sáng lập có góp ý, anh ta để lại nhận xét cụ thể và tác nhân chỉnh sửa theo yêu cầu. Toàn bộ chu trình từ tạo đến xuất bản có thể diễn ra trong vòng hai giờ, với khoảng mười phút đánh giá từ con người.

Một yếu tố quan trọng khác của HITL là hệ thống cổng chất lượng - các checkpoint tự động kích hoạt đánh giá của con người khi phát hiện các dấu hiệu cảnh báo. Ví dụ, nếu điểm chất lượng tổng thể của công việc tác nhân dưới 85%, hệ thống tự động yêu cầu con người xem xét ngay cả với các công việc thường được tự động phê duyệt. Nếu mức độ tự tin của tác nhân về giải pháp dưới 70%, công việc phải được leo thang cho con người bất kể loại nhiệm vụ. Nếu tác nhân gặp phải một tình huống chưa từng có trong lịch sử hoặc không có tiền lệ rõ ràng, nó phải hỏi con người thay vì tự đoán. Khi có khiếu nại từ người dùng về nội dung hoặc tính năng do tác nhân tạo ra, công việc liên quan phải được con người xem xét lại để hiểu vấn đề và ngăn ngừa lặp lại. Và bất kỳ chủ đề nào liên quan đến quy định pháp lý, tuân thủ, hoặc rủi ro danh tiếng đều phải có sự giám sát của con người bất kể mức độ tự tin của AI.

Tích hợp GitHub Copilot với tính năng đánh giá mã tự động mà Microsoft công bố ngày 3 tháng 11 năm 2025 đã làm cho quá trình này mạnh mẽ hơn nhiều. Tính năng linter integration cho phép Copilot tự động phát hiện và đề xuất sửa các vấn đề về coding style, lỗi tiềm ẩn, và anti-patterns ngay trong quá trình viết mã, thậm chí trước khi tạo Pull Request. Organization custom instructions cho phép công ty thiết lập các quy tắc và tiêu chuẩn cụ thể của riêng họ mà mọi tác nhân AI phải tuân theo - ví dụ, "luôn sử dụng TypeScript strict mode", "không bao giờ lưu dữ liệu nhạy cảm trong localStorage", hoặc "mọi API endpoint phải có rate limiting". Bypass actor for rulesets feature cho phép các tác nhân AI được tin cậy bỏ qua một số quy tắc GitHub khi an toàn - ví dụ, cho phép Tác nhân DevOps tự động merge các Pull Request đơn giản cập nhật dependencies sau khi vượt qua tất cả kiểm thử, mà không cần chờ con người phê duyệt thủ công.

Quản lý thời gian hiệu quả là chìa khóa để làm cho HITL hoạt động trong thực tế với một người sáng lập đơn độc. Mục tiêu không phải là giảm thiểu hoàn toàn thời gian đánh giá xuống zero - điều đó sẽ nguy hiểm và không thực tế - mà là tối ưu hóa cách bạn phân bổ thời gian hạn chế của mình. Công thức lý tưởng mà nhiều người sáng lập thành công áp dụng là phân chia thời gian làm việc thành ba phần: 20% thời gian cho việc đánh giá và phê duyệt công việc của tác nhân AI, 60% thời gian cho các hoạt động chiến lược như phát triển tầm nhìn sản phẩm, xây dựng mối quan hệ với khách hàng quan trọng, đàm phán đối tác, và ra quyết định định hướng công ty, và 20% thời gian còn lại cho việc học hỏi và cải tiến - nghiên cứu xu hướng công nghệ mới, tối ưu hóa quy trình làm việc hiện tại, và đào tạo các tác nhân AI làm việc tốt hơn.

Với phân bổ này, nếu bạn làm việc năm mươi giờ mỗi tuần, bạn dành mười giờ cho đánh giá công việc tác nhân, ba mươi giờ cho công việc chiến lược, và mười giờ cho cải tiến liên tục. Mười giờ đánh giá mỗi tuần - khoảng hai giờ mỗi ngày làm việc - là hoàn toàn đủ để xem xét tất cả Pull Request quan trọng, phê duyệt nội dung trước khi xuất bản, và đưa ra các quyết định chiến lược được leo thang bởi tác nhân. Điều quan trọng là bạn tổ chức thời gian đánh giá này hiệu quả bằng cách xử lý theo lô thay vì liên tục bị gián đoạn. Thay vì kiểm tra Slack mỗi khi có thông báo từ tác nhân, hãy lên lịch hai đến ba phiên đánh giá tập trung mỗi ngày - ví dụ vào 9 giờ sáng, 2 giờ chiều, và 6 giờ tối - khi bạn tập trung xử lý tất cả các yêu cầu phê duyệt đang chờ.

Để làm cho các phiên đánh giá này hiệu quả, hãy ưu tiên dựa trên tác động và thời gian nhạy cảm. Pull Request sửa lỗi bảo mật nghiêm trọng được đánh giá trước tất cả, vì mỗi giờ trì hoãn có thể tăng rủi ro cho người dùng. Tiếp theo là các thay đổi chặn công việc khác - ví dụ nếu Tác nhân Frontend đang chờ API endpoint mới từ Tác nhân Backend để tiếp tục làm việc, bạn nên ưu tiên phê duyệt Pull Request Backend để không chặn tiến độ. Sau đó là nội dung có thời hạn như bài đăng marketing cho chiến dịch sắp ra mắt hoặc phản hồi khách hàng cần gửi trong vòng 24 giờ. Và cuối cùng là các cải tiến không khẩn cấp như tái cấu trúc mã hoặc cập nhật tài liệu có thể chờ đến phiên đánh giá tiếp theo nếu bạn hết thời gian.

Đối với các vấn đề cần phản hồi khẩn cấp ngoài giờ làm việc, thiết lập cơ chế leo thang ưu tiên. Chỉ các vấn đề thực sự nghiêm trọng nên kích hoạt thông báo khẩn cấp đến điện thoại của bạn: sự cố hệ thống ảnh hưởng đến người dùng production như máy chủ sập hoặc cơ sở dữ liệu không truy cập được, lỗ hổng bảo mật nghiêm trọng được phát hiện đang bị khai thác, hoặc vấn đề pháp lý hoặc tuân thủ cần phản hồi ngay lập tức. Mọi thứ khác có thể chờ đến sáng hôm sau hoặc phiên đánh giá tiếp theo. Quy tắc này giúp bạn có thể ngủ ngon vào ban đêm và duy trì sức khỏe tinh thần dài hạn, đồng thời vẫn đảm bảo các vấn đề quan trọng được xử lý kịp thời.

Sáu tháng sau khi triển khai hệ thống HITL có cấu trúc, Sarah của TeachMe đã đo lường được kết quả ấn tượng. Tỷ lệ lỗi trên production giảm từ 3.5% xuống còn 0.8% nhờ quy trình đánh giá mã nhiều tầng kết hợp kiểm thử tự động, đánh giá AI, và phê duyệt của con người. Điểm hài lòng về chất lượng nội dung từ người đọc tăng từ 3.8 lên 4.6 trên 5 vì mọi bài viết đều được con người đọc và điều chỉnh trước khi xuất bản. Thời gian từ ý tưởng đến triển khai tính năng mới giảm 60% so với quy trình thủ công truyền thống vì phần lớn công việc kiểm tra được tự động hóa, con người chỉ tập trung vào các quyết định chiến lược. Và quan trọng nhất, Sarah chỉ dành hai giờ mỗi ngày cho đánh giá và phê duyệt, giải phóng sáu giờ còn lại trong ngày làm việc tám giờ của cô để tập trung vào phát triển chiến lược sản phẩm, gặp gỡ khách hàng tiềm năng, và xây dựng quan hệ đối tác. Cô đã chuyển đổi vai trò của mình từ một người quản lý vi mô kiểm tra từng chi tiết nhỏ thành một người lãnh đạo chiến lược định hình tương lai của TeachMe, trong khi tin tưởng rằng hệ thống HITL của cô sẽ bắt được bất kỳ vấn đề nào trước khi nó ảnh hưởng đến khách hàng.

